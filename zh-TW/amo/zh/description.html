<i>You can find the latest version of this information on https://github.com/LEDfan/keywi/blob/master/amo/DESCRIPTION-EN.html</i>


<b>Goals</b>
<ul>
    <li>
        Minimalistic password integration in Firefox
    </li>
    <li>
        Fill username and password in login form, using context menu and keyboard shortcut
    </li>
    <li>
        Use [Keepass HTTP](https://github.com/pfn/keepasshttp)
    </li>
    <li>
        No editing of the Keepass database
    </li>
    <li>
        Using the Firefox web extensions API, to support Electrolysis
    </li>
    <li>
        Support Keepass, later maybe [Pass](https://www.passwordstore.org/)
    </li>
    <li>
        Minimal amount of libraries (aes, cryptoheplers and reqwest)
    </li>
    <li>
        no automatic form filling, i.e. only when the user wants to. This is very important because:
        <ul>
            <li>
                crendetials can be filled in the sign up form
            </li>
            <li>
                credentials can be filled in a hidden form
            </li>
            <li>
                you don't want to log in on this website now
            </li>
            <li>
                there are multiple forms on the website (unlikely)
            </li>
      </ul>
    </li>
    <li>
        no injecting of buttons or icons into forms
    </li>
</ul>


<b>Usage</b>

Keywi uses the local storage mechanism of the browser to store some information needed to connect to Keepass. This information includes the key used to authenticate and encrypt the communication with Keepass. The information stored in the local storage of the browser is stored unencrypted.
Therefore Keywi encrypts this information (<i>database.key</i>, <i>database.id</i> and <i>database.hash</i>) using 256-bit AES key derived from a user-provided password.

This password is asked to the user the first time Keywi is used for encrypting the information. Every time you start Firefox it's asked to decrypt the information.

Keywi requires Firefox 51 or later.


<i>First time</i>
<ol>
    <li>
        Install the KeepassHTTP plugin in Keepass. See: https://github.com/pfn/keepasshttp
    </li>
    <li>
        make sure the correct Keepass database is open
    </li>
    <li>
        install the addon
    </li>
    <li>
        you'll be asked to enter a password for Secure Storage. You should **not** use the same password as used in Keepass. Make sure it's a secure and strong password. <a href="https://raw.githubusercontent.com/LEDfan/keywi/master/.github/screenshots/setup-secure-storage.png">Screenshot</a>
    </li>
    <li>
        keepass will ask to confirm the association
        <a href="https://raw.githubusercontent.com/LEDfan/keywi/master/.github/screenshots/associate.png">Screenshot</a>
    </li>
</ol>


<i>When Firefox starts</i>

You will be asked to unlock the Secure Storage using the same password as during the setup.
<a href="https://raw.githubusercontent.com/LEDfan/keywi/master/.github/screenshots/unlock-secure-storage.png">Screenshot</a>


<i>Fill in credentials</i>
<ol>
    <li>
        select the username input field
    </li>
    <li>
        right click and choose "Fill username and password" inside the "Keywi" submenu. It's possible to only fill your username or password.
        <a href="https://raw.githubusercontent.com/LEDfan/keywi/master/.github/screenshots/fill-context-menu.png">Screenshot</a>
    </li>
    <li>
        click "Allow" when keepass asks permission for the request to the credentials
    </li>
    <li>
        the username and password are filled
    </li>
</ol>


<i>Keyboard shortcuts</i>

The following shortcuts are supported:
<ul>
    <li>
        <b>Ctrl + Shift + F</b> Fill username and password in the current active input field (only the username will be filled when no password field is found)
    </li>
    <li>
        <b>Ctrl + Shift + D</b> Fill only password in the current active input field
    </li>
</ul>


<i>Multiple Credentials for one URL</i>

When Keepass finds multiple Credentials for one URL, it will ask you to select one:
<a href="https://raw.githubusercontent.com/LEDfan/keywi/master/.github/screenshots/multiple-credentials.png">Screenshot</a>


<i>Disable "Remember for logins" in Firefox</i>

To provide a better user experience we advise to disable the feature in Firefox to remember logins.
